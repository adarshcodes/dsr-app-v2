{"ast":null,"code":"\"use client\";\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _interop_require_default = require(\"@swc/helpers/lib/_interop_require_default.js\").default;\nvar _object_without_properties_loose = require(\"@swc/helpers/lib/_object_without_properties_loose.js\").default;\nvar _react = _interop_require_default(require(\"react\"));\nvar _resolveHref = require(\"../shared/lib/router/utils/resolve-href\");\nvar _isLocalUrl = require(\"../shared/lib/router/utils/is-local-url\");\nvar _formatUrl = require(\"../shared/lib/router/utils/format-url\");\nvar _utils = require(\"../shared/lib/utils\");\nvar _addLocale = require(\"./add-locale\");\nvar _routerContext = require(\"../shared/lib/router-context\");\nvar _appRouterContext = require(\"../shared/lib/app-router-context\");\nvar _useIntersection = require(\"./use-intersection\");\nvar _getDomainLocale = require(\"./get-domain-locale\");\nvar _addBasePath = require(\"./add-base-path\");\nconst prefetched = new Set();\nfunction prefetch(router, href, as, options, isAppRouter) {\n  if (typeof window === 'undefined') {\n    return;\n  }\n  // app-router supports external urls out of the box so it shouldn't short-circuit here as support for e.g. `replace` is added in the app-router.\n  if (!isAppRouter && !(0, _isLocalUrl).isLocalURL(href)) {\n    return;\n  }\n  // We should only dedupe requests when experimental.optimisticClientCache is\n  // disabled.\n  if (!options.bypassPrefetchedCheck) {\n    const locale =\n    // Let the link's locale prop override the default router locale.\n    typeof options.locale !== 'undefined' ? options.locale : 'locale' in router ? router.locale : undefined;\n    const prefetchedKey = href + '%' + as + '%' + locale;\n    // If we've already fetched the key, then don't prefetch it again!\n    if (prefetched.has(prefetchedKey)) {\n      return;\n    }\n    // Mark this URL as prefetched.\n    prefetched.add(prefetchedKey);\n  }\n  // Prefetch the JSON page if asked (only in the client)\n  // We need to handle a prefetch error here since we may be\n  // loading with priority which can reject but we don't\n  // want to force navigation since this is only a prefetch\n  Promise.resolve(router.prefetch(href, as, options)).catch(err => {\n    if (process.env.NODE_ENV !== 'production') {\n      // rethrow to show invalid URL errors\n      throw err;\n    }\n  });\n}\nfunction isModifiedEvent(event) {\n  const eventTarget = event.currentTarget;\n  const target = eventTarget.getAttribute('target');\n  return target && target !== '_self' || event.metaKey || event.ctrlKey || event.shiftKey || event.altKey || event.nativeEvent && event.nativeEvent.which === 2;\n}\nfunction linkClicked(e, router, href, as, replace, shallow, scroll, locale, isAppRouter, prefetchEnabled) {\n  const {\n    nodeName\n  } = e.currentTarget;\n  // anchors inside an svg have a lowercase nodeName\n  const isAnchorNodeName = nodeName.toUpperCase() === 'A';\n  if (isAnchorNodeName && (isModifiedEvent(e) ||\n  // app-router supports external urls out of the box so it shouldn't short-circuit here as support for e.g. `replace` is added in the app-router.\n  !isAppRouter && !(0, _isLocalUrl).isLocalURL(href))) {\n    // ignore click for browserâ€™s default behavior\n    return;\n  }\n  e.preventDefault();\n  const navigate = () => {\n    // If the router is an NextRouter instance it will have `beforePopState`\n    if ('beforePopState' in router) {\n      router[replace ? 'replace' : 'push'](href, as, {\n        shallow,\n        locale,\n        scroll\n      });\n    } else {\n      router[replace ? 'replace' : 'push'](as || href, {\n        forceOptimisticNavigation: !prefetchEnabled\n      });\n    }\n  };\n  if (isAppRouter) {\n    // @ts-expect-error startTransition exists.\n    _react.default.startTransition(navigate);\n  } else {\n    navigate();\n  }\n}\nfunction formatStringOrUrl(urlObjOrString) {\n  if (typeof urlObjOrString === 'string') {\n    return urlObjOrString;\n  }\n  return (0, _formatUrl).formatUrl(urlObjOrString);\n}\n/**\n * React Component that enables client-side transitions between routes.\n */\nconst Link = /*#__PURE__*/_react.default.forwardRef(function LinkComponent(props, forwardedRef) {\n  if (process.env.NODE_ENV !== 'production') {\n    function createPropError(args) {\n      return new Error(`Failed prop type: The prop \\`${args.key}\\` expects a ${args.expected} in \\`<Link>\\`, but got \\`${args.actual}\\` instead.` + (typeof window !== 'undefined' ? \"\\nOpen your browser's console to view the Component stack trace.\" : ''));\n    }\n    // TypeScript trick for type-guarding:\n    const requiredPropsGuard = {\n      href: true\n    };\n    const requiredProps = Object.keys(requiredPropsGuard);\n    requiredProps.forEach(key => {\n      if (key === 'href') {\n        if (props[key] == null || typeof props[key] !== 'string' && typeof props[key] !== 'object') {\n          throw createPropError({\n            key,\n            expected: '`string` or `object`',\n            actual: props[key] === null ? 'null' : typeof props[key]\n          });\n        }\n      } else {\n        // TypeScript trick for type-guarding:\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const _ = key;\n      }\n    });\n    // TypeScript trick for type-guarding:\n    const optionalPropsGuard = {\n      as: true,\n      replace: true,\n      scroll: true,\n      shallow: true,\n      passHref: true,\n      prefetch: true,\n      locale: true,\n      onClick: true,\n      onMouseEnter: true,\n      onTouchStart: true,\n      legacyBehavior: true\n    };\n    const optionalProps = Object.keys(optionalPropsGuard);\n    optionalProps.forEach(key => {\n      const valType = typeof props[key];\n      if (key === 'as') {\n        if (props[key] && valType !== 'string' && valType !== 'object') {\n          throw createPropError({\n            key,\n            expected: '`string` or `object`',\n            actual: valType\n          });\n        }\n      } else if (key === 'locale') {\n        if (props[key] && valType !== 'string') {\n          throw createPropError({\n            key,\n            expected: '`string`',\n            actual: valType\n          });\n        }\n      } else if (key === 'onClick' || key === 'onMouseEnter' || key === 'onTouchStart') {\n        if (props[key] && valType !== 'function') {\n          throw createPropError({\n            key,\n            expected: '`function`',\n            actual: valType\n          });\n        }\n      } else if (key === 'replace' || key === 'scroll' || key === 'shallow' || key === 'passHref' || key === 'prefetch' || key === 'legacyBehavior') {\n        if (props[key] != null && valType !== 'boolean') {\n          throw createPropError({\n            key,\n            expected: '`boolean`',\n            actual: valType\n          });\n        }\n      } else {\n        // TypeScript trick for type-guarding:\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const _ = key;\n      }\n    });\n    // This hook is in a conditional but that is ok because `process.env.NODE_ENV` never changes\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const hasWarned = _react.default.useRef(false);\n    if (props.prefetch && !hasWarned.current) {\n      hasWarned.current = true;\n      console.warn('Next.js auto-prefetches automatically based on viewport. The prefetch attribute is no longer needed. More: https://nextjs.org/docs/messages/prefetch-true-deprecated');\n    }\n  }\n  let children;\n  const {\n      href: hrefProp,\n      as: asProp,\n      children: childrenProp,\n      prefetch: prefetchProp,\n      passHref,\n      replace,\n      shallow,\n      scroll,\n      locale,\n      onClick,\n      onMouseEnter: onMouseEnterProp,\n      onTouchStart: onTouchStartProp,\n      // @ts-expect-error this is inlined as a literal boolean not a string\n      legacyBehavior = process.env.__NEXT_NEW_LINK_BEHAVIOR === false\n    } = props,\n    restProps = _object_without_properties_loose(props, [\"href\", \"as\", \"children\", \"prefetch\", \"passHref\", \"replace\", \"shallow\", \"scroll\", \"locale\", \"onClick\", \"onMouseEnter\", \"onTouchStart\", \"legacyBehavior\"]);\n  children = childrenProp;\n  if (legacyBehavior && (typeof children === 'string' || typeof children === 'number')) {\n    children = /*#__PURE__*/_react.default.createElement(\"a\", null, children);\n  }\n  const prefetchEnabled = prefetchProp !== false;\n  const pagesRouter = _react.default.useContext(_routerContext.RouterContext);\n  const appRouter = _react.default.useContext(_appRouterContext.AppRouterContext);\n  const router = pagesRouter != null ? pagesRouter : appRouter;\n  // We're in the app directory if there is no pages router.\n  const isAppRouter = !pagesRouter;\n  if (process.env.NODE_ENV !== 'production') {\n    if (isAppRouter && !asProp) {\n      let href;\n      if (typeof hrefProp === 'string') {\n        href = hrefProp;\n      } else if (typeof hrefProp === 'object' && typeof hrefProp.pathname === 'string') {\n        href = hrefProp.pathname;\n      }\n      if (href) {\n        const hasDynamicSegment = href.split('/').some(segment => segment.startsWith('[') && segment.endsWith(']'));\n        if (hasDynamicSegment) {\n          throw new Error(`Dynamic href \\`${href}\\` found in <Link> while using the \\`/app\\` router, this is not supported. Read more: https://nextjs.org/docs/messages/app-dir-dynamic-href`);\n        }\n      }\n    }\n  }\n  const {\n    href,\n    as\n  } = _react.default.useMemo(() => {\n    if (!pagesRouter) {\n      const resolvedHref = formatStringOrUrl(hrefProp);\n      return {\n        href: resolvedHref,\n        as: asProp ? formatStringOrUrl(asProp) : resolvedHref\n      };\n    }\n    const [resolvedHref, resolvedAs] = (0, _resolveHref).resolveHref(pagesRouter, hrefProp, true);\n    return {\n      href: resolvedHref,\n      as: asProp ? (0, _resolveHref).resolveHref(pagesRouter, asProp) : resolvedAs || resolvedHref\n    };\n  }, [pagesRouter, hrefProp, asProp]);\n  const previousHref = _react.default.useRef(href);\n  const previousAs = _react.default.useRef(as);\n  // This will return the first child, if multiple are provided it will throw an error\n  let child;\n  if (legacyBehavior) {\n    if (process.env.NODE_ENV === 'development') {\n      if (onClick) {\n        console.warn(`\"onClick\" was passed to <Link> with \\`href\\` of \\`${hrefProp}\\` but \"legacyBehavior\" was set. The legacy behavior requires onClick be set on the child of next/link`);\n      }\n      if (onMouseEnterProp) {\n        console.warn(`\"onMouseEnter\" was passed to <Link> with \\`href\\` of \\`${hrefProp}\\` but \"legacyBehavior\" was set. The legacy behavior requires onMouseEnter be set on the child of next/link`);\n      }\n      try {\n        child = _react.default.Children.only(children);\n      } catch (err) {\n        if (!children) {\n          throw new Error(`No children were passed to <Link> with \\`href\\` of \\`${hrefProp}\\` but one child is required https://nextjs.org/docs/messages/link-no-children`);\n        }\n        throw new Error(`Multiple children were passed to <Link> with \\`href\\` of \\`${hrefProp}\\` but only one child is supported https://nextjs.org/docs/messages/link-multiple-children` + (typeof window !== 'undefined' ? \" \\nOpen your browser's console to view the Component stack trace.\" : ''));\n      }\n    } else {\n      child = _react.default.Children.only(children);\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      var ref;\n      if (((ref = children) == null ? void 0 : ref.type) === 'a') {\n        throw new Error('Invalid <Link> with <a> child. Please remove <a> or use <Link legacyBehavior>.\\nLearn more: https://nextjs.org/docs/messages/invalid-new-link-with-extra-anchor');\n      }\n    }\n  }\n  const childRef = legacyBehavior ? child && typeof child === 'object' && child.ref : forwardedRef;\n  const [setIntersectionRef, isVisible, resetVisible] = (0, _useIntersection).useIntersection({\n    rootMargin: '200px'\n  });\n  const setRef = _react.default.useCallback(el => {\n    // Before the link getting observed, check if visible state need to be reset\n    if (previousAs.current !== as || previousHref.current !== href) {\n      resetVisible();\n      previousAs.current = as;\n      previousHref.current = href;\n    }\n    setIntersectionRef(el);\n    if (childRef) {\n      if (typeof childRef === 'function') childRef(el);else if (typeof childRef === 'object') {\n        childRef.current = el;\n      }\n    }\n  }, [as, childRef, href, resetVisible, setIntersectionRef]);\n  // Prefetch the URL if we haven't already and it's visible.\n  _react.default.useEffect(() => {\n    // in dev, we only prefetch on hover to avoid wasting resources as the prefetch will trigger compiling the page.\n    if (process.env.NODE_ENV !== 'production') {\n      return;\n    }\n    if (!router) {\n      return;\n    }\n    // If we don't need to prefetch the URL, don't do prefetch.\n    if (!isVisible || !prefetchEnabled) {\n      return;\n    }\n    // Prefetch the URL.\n    prefetch(router, href, as, {\n      locale\n    }, isAppRouter);\n  }, [as, href, isVisible, locale, prefetchEnabled, pagesRouter == null ? void 0 : pagesRouter.locale, router, isAppRouter]);\n  const childProps = {\n    ref: setRef,\n    onClick(e) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (!e) {\n          throw new Error(`Component rendered inside next/link has to pass click event to \"onClick\" prop.`);\n        }\n      }\n      if (!legacyBehavior && typeof onClick === 'function') {\n        onClick(e);\n      }\n      if (legacyBehavior && child.props && typeof child.props.onClick === 'function') {\n        child.props.onClick(e);\n      }\n      if (!router) {\n        return;\n      }\n      if (e.defaultPrevented) {\n        return;\n      }\n      linkClicked(e, router, href, as, replace, shallow, scroll, locale, isAppRouter, prefetchEnabled);\n    },\n    onMouseEnter(e) {\n      if (!legacyBehavior && typeof onMouseEnterProp === 'function') {\n        onMouseEnterProp(e);\n      }\n      if (legacyBehavior && child.props && typeof child.props.onMouseEnter === 'function') {\n        child.props.onMouseEnter(e);\n      }\n      if (!router) {\n        return;\n      }\n      if (!prefetchEnabled && isAppRouter) {\n        return;\n      }\n      prefetch(router, href, as, {\n        locale,\n        priority: true,\n        // @see {https://github.com/vercel/next.js/discussions/40268?sort=top#discussioncomment-3572642}\n        bypassPrefetchedCheck: true\n      }, isAppRouter);\n    },\n    onTouchStart(e) {\n      if (!legacyBehavior && typeof onTouchStartProp === 'function') {\n        onTouchStartProp(e);\n      }\n      if (legacyBehavior && child.props && typeof child.props.onTouchStart === 'function') {\n        child.props.onTouchStart(e);\n      }\n      if (!router) {\n        return;\n      }\n      if (!prefetchEnabled && isAppRouter) {\n        return;\n      }\n      prefetch(router, href, as, {\n        locale,\n        priority: true,\n        // @see {https://github.com/vercel/next.js/discussions/40268?sort=top#discussioncomment-3572642}\n        bypassPrefetchedCheck: true\n      }, isAppRouter);\n    }\n  };\n  // If child is an <a> tag and doesn't have a href attribute, or if the 'passHref' property is\n  // defined, we specify the current 'href', so that repetition is not needed by the user.\n  // If the url is absolute, we can bypass the logic to prepend the domain and locale.\n  if ((0, _utils).isAbsoluteUrl(as)) {\n    childProps.href = as;\n  } else if (!legacyBehavior || passHref || child.type === 'a' && !('href' in child.props)) {\n    const curLocale = typeof locale !== 'undefined' ? locale : pagesRouter == null ? void 0 : pagesRouter.locale;\n    // we only render domain locales if we are currently on a domain locale\n    // so that locale links are still visitable in development/preview envs\n    const localeDomain = (pagesRouter == null ? void 0 : pagesRouter.isLocaleDomain) && (0, _getDomainLocale).getDomainLocale(as, curLocale, pagesRouter == null ? void 0 : pagesRouter.locales, pagesRouter == null ? void 0 : pagesRouter.domainLocales);\n    childProps.href = localeDomain || (0, _addBasePath).addBasePath((0, _addLocale).addLocale(as, curLocale, pagesRouter == null ? void 0 : pagesRouter.defaultLocale));\n  }\n  return legacyBehavior ? /*#__PURE__*/_react.default.cloneElement(child, childProps) : /*#__PURE__*/_react.default.createElement(\"a\", Object.assign({}, restProps, childProps), children);\n});\nvar _default = Link;\nexports.default = _default;\nif ((typeof exports.default === 'function' || typeof exports.default === 'object' && exports.default !== null) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', {\n    value: true\n  });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}","map":{"version":3,"names":["_object_without_properties_loose","require","default","_react","_interop_require_default","_resolveHref","_isLocalUrl","_formatUrl","_utils","_addLocale","_routerContext","_appRouterContext","_useIntersection","_getDomainLocale","_addBasePath","prefetched","Set","prefetch","router","href","as","options","isAppRouter","window","isLocalURL","bypassPrefetchedCheck","locale","undefined","prefetchedKey","has","add","resolve","catch","err","process","env","NODE_ENV","isModifiedEvent","event","eventTarget","currentTarget","target","getAttribute","metaKey","ctrlKey","shiftKey","altKey","nativeEvent","which","linkClicked","e","replace","shallow","scroll","prefetchEnabled","nodeName","isAnchorNodeName","toUpperCase","preventDefault","navigate","forceOptimisticNavigation","startTransition","formatStringOrUrl","urlObjOrString","formatUrl","Link","forwardRef","LinkComponent","props","forwardedRef","createPropError","args","Error","key","expected","actual","requiredPropsGuard","requiredProps","Object","keys","forEach","_","optionalPropsGuard","passHref","onClick","onMouseEnter","onTouchStart","legacyBehavior","optionalProps","valType","hasWarned","useRef","current","console","warn","children","hrefProp","asProp","childrenProp","prefetchProp","onMouseEnterProp","onTouchStartProp","__NEXT_NEW_LINK_BEHAVIOR","restProps","createElement","pagesRouter","useContext","RouterContext","appRouter","AppRouterContext","pathname","hasDynamicSegment","split","some","segment","startsWith","endsWith","useMemo","resolvedHref","resolvedAs","resolveHref","previousHref","previousAs","child","Children","only","ref","type","childRef","setIntersectionRef","isVisible","resetVisible","useIntersection","rootMargin","setRef","useCallback","el","useEffect","childProps","defaultPrevented","priority","isAbsoluteUrl","curLocale","localeDomain","isLocaleDomain","getDomainLocale","locales","domainLocales","addBasePath","addLocale","defaultLocale","cloneElement","assign"],"sources":["../../src/client/link.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}