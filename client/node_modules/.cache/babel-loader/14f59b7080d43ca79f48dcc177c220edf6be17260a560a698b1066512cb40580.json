{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.normalizePathTrailingSlash = void 0;\nvar _removeTrailingSlash = require(\"../shared/lib/router/utils/remove-trailing-slash\");\nvar _parsePath = require(\"../shared/lib/router/utils/parse-path\");\nconst normalizePathTrailingSlash = path => {\n  if (!path.startsWith('/') || process.env.__NEXT_MANUAL_TRAILING_SLASH) {\n    return path;\n  }\n  const {\n    pathname,\n    query,\n    hash\n  } = (0, _parsePath).parsePath(path);\n  if (process.env.__NEXT_TRAILING_SLASH) {\n    if (/\\.[^/]+\\/?$/.test(pathname)) {\n      return `${(0, _removeTrailingSlash).removeTrailingSlash(pathname)}${query}${hash}`;\n    } else if (pathname.endsWith('/')) {\n      return `${pathname}${query}${hash}`;\n    } else {\n      return `${pathname}/${query}${hash}`;\n    }\n  }\n  return `${(0, _removeTrailingSlash).removeTrailingSlash(pathname)}${query}${hash}`;\n};\nexports.normalizePathTrailingSlash = normalizePathTrailingSlash;\nif ((typeof exports.default === 'function' || typeof exports.default === 'object' && exports.default !== null) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', {\n    value: true\n  });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}","map":{"version":3,"names":["_removeTrailingSlash","require","_parsePath","normalizePathTrailingSlash","path","startsWith","process","env","__NEXT_MANUAL_TRAILING_SLASH","pathname","query","hash","parsePath","__NEXT_TRAILING_SLASH","test","removeTrailingSlash","endsWith"],"sources":["../../src/client/normalize-trailing-slash.ts"],"sourcesContent":[null],"mappings":"AAAA;;;;;;AAAoC,IAAAA,oBAAkD,GAAAC,OAAA,CAAlD,kDAAkD;AAC5D,IAAAC,UAAuC,GAAAD,OAAA,CAAvC,uCAAuC;AAM1D,MAAME,0BAA0B,GAAIC,IAAY,IAAK;EAC1D,IAAI,CAACA,IAAI,CAACC,UAAU,CAAC,GAAG,CAAC,IAAIC,OAAO,CAACC,GAAG,CAACC,4BAA4B,EAAE;IACrE,OAAOJ,IAAI;;EAGb,MAAM;IAAEK,QAAQ;IAAEC,KAAK;IAAEC;EAAI,CAAE,GAAG,IAAAT,UAAS,EAAMU,SAAN,CAACR,IAAI,CAAC;EACjD,IAAIE,OAAO,CAACC,GAAG,CAACM,qBAAqB,EAAE;IACrC,IAAI,cAAcC,IAAI,CAACL,QAAQ,CAAC,EAAE;MAChC,OAAQ,GAAE,IAAAT,oBAAmB,EAAUe,mBAAV,CAACN,QAAQ,CAAE,GAAEC,KAAM,GAAEC,IAAK,EAAC;KACzD,MAAM,IAAIF,QAAQ,CAACO,QAAQ,CAAC,GAAG,CAAC,EAAE;MACjC,OAAQ,GAAEP,QAAS,GAAEC,KAAM,GAAEC,IAAK,EAAC;KACpC,MAAM;MACL,OAAQ,GAAEF,QAAS,IAAGC,KAAM,GAAEC,IAAK,EAAC;;;EAIxC,OAAQ,GAAE,IAAAX,oBAAmB,EAAUe,mBAAV,CAACN,QAAQ,CAAE,GAAEC,KAAM,GAAEC,IAAK,EAAC;CACzD;QAjBYR,0BAA0B,GAA1BA,0BAA0B"},"metadata":{},"sourceType":"script","externalDependencies":[]}